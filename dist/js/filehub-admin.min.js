/* filehub
 * Copyright (c) 2016 RaphaÃ«l Bois Rousseau
 * MIT Licensed
 */!function(a,b,c){"use strict";var d=b.filehub;if(!d)throw Error("filehub is not defined.");d.register("accounts",function(){var a=d.View;return new a({}).on("refresh",function(a,b){this.nav.update([null,{label:b.children(".tree-label").text(),data:{uid:b.data("uid")}}])})})}(jQuery,window),function(a,b,c){"use strict";var d=b.filehub;if(!PROD&&!d)throw Error("filehub is not defined.");d.register(!0,"browse",function(){var b=this.ACTIONS;b.folderAccessList=function(a){var b=this;1!==a.length||a.data("flags").indexOf("f")<0||(b.accessListDialog||(b.accessListDialog=new d.AccessList({api:b.api}),b.accessListDialog.dialog.on("show.bs.modal",function(a){b._scDisabled=!0}).on("hide.bs.modal",function(a){delete b._scDisabled})),b.accessListDialog.edit(a.data("path"),function(c,d){b.trigger("accessListUpdated",[a,c,d])},function(a,c){b.trigger("error",[a,c&&c.statusCode()])}))},this.on("accessListUpdated",function(b,c,d){var e=b.find(".folder-shared");return d?(e.length||(e=a('<span class="folder-shared"/>').appendTo(b.children(".folder-name").children(".list-cell-content"))),void e.text(d).prepend('<span class="fa fa-user"/>')):void(e.length&&e.remove())})})}(jQuery,window);